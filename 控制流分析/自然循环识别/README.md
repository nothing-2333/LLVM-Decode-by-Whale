## 简介
- 自然循环是 "最小" 的循环结构, 要求循环头必须支配循环内所有节点(保证只有一个入口)
- SCC 可能包含更复杂的结构: 一个 SCC 可能对应多个嵌套循环, 或包含多个入口的非结构化循环(如某些跳转语句形成的复杂循环), 这些不一定是自然循环.

## 自然循环定义/条件
自然循环是满足以下两个条件的 CFG 子图:
- 存在回边: 存在一条从块 B 到块 H 的边, 且 H 支配 B. 这里 H 称为循环的头节点, B 称为回边的源节点. B 可以有多个, H 只能有一个.
- 闭合性: 能通过反向路径到达任何一个 B, 且被 H 支配.

## LLVM 中的处理
通过 Tarjan 算法构建 SCC, 找出所有循环, 在从中筛选自然循环做循环有关的优化处理, 而非自然循环, 不将其视为 “循环” 进行优化, 按普通控制流处理.

## llvm 用来识别自然循环的代码
识别自然循环的代码在 `llvm/include/llvm/Support/GenericLoopInfoImpl.h` 中, 让我们来看看